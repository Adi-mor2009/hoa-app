(this["webpackJsonphoa-app"]=this["webpackJsonphoa-app"]||[]).push([[0],{384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},628:function(e,t){},630:function(e,t){},641:function(e,t){},643:function(e,t){},670:function(e,t){},672:function(e,t){},673:function(e,t){},678:function(e,t){},680:function(e,t){},699:function(e,t){},711:function(e,t){},714:function(e,t){},771:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e){e.exports=JSON.parse("{}")},802:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(97),r=n.n(s),i=(n(384),n(44)),l=(n.p,n(385),n(85)),j=n(18),o=n(808),b=(n(386),n(3));var d=function(e){return Object(b.jsxs)(o.a,{className:"p-home",children:[Object(b.jsx)("h1",{className:"display-1",children:"HOA System"}),Object(b.jsx)("p",{children:"Manage your house!"})]})},u=n(123),h=n.n(u),O=n(181),x=n(809),p=n(815),f=n(812),m=n(810),g=n(811),v=n(370),w=n(371),L=n(372),y=n(373),N=n(53),C=n.n(N),S=Object(y.a)("parseUser"),U=function(){function e(t){Object(v.a)(this,e),Object.defineProperty(this,S,{writable:!0,value:void 0}),this.id=t.id,this.name=t.get("name"),this.apartement=t.get("apartement"),this.email=t.get("email"),this.role=t.get("role"),Object(L.a)(this,S)[S]=t}return Object(w.a)(e,null,[{key:"login",value:function(){var t=Object(O.a)(h.a.mark((function t(n,a){var c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.User.logIn(n,a);case 2:return c=t.sent,s=new e(c),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"logout",value:function(){C.a.User.logOut()}},{key:"activeUser",value:function(){return C.a.User.current()}}]),e}();n(771),n(803);var k=function(e){var t=e.activeUser,n=e.onLogin,c=Object(a.useState)(""),s=Object(i.a)(c,2),r=s[0],o=s[1],d=Object(a.useState)(""),u=Object(i.a)(d,2),v=u[0],w=u[1],L=Object(a.useState)(!1),y=Object(i.a)(L,2),N=y[0],C=y[1],S=Object(a.useState)(!1),k=Object(i.a)(S,2),P=k[0],T=k[1];if(t)return Object(b.jsx)(j.a,{to:"/dashboard"});function B(){return(B=Object(O.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,T(!0),e.next=5,U.login(r,v);case 5:a=e.sent,T(!1),n(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error while logging in user",e.t0),C(!0);case 14:return e.prev=14,T(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})))).apply(this,arguments)}return P?Object(b.jsx)("div",{class:"p-login-spinner d-flex justify-content-center align-items-center",children:Object(b.jsx)(x.a,{animation:"border",variant:"primary"})}):Object(b.jsxs)("div",{className:"p-login",children:[Object(b.jsx)("h1",{children:"Login to HOA"}),Object(b.jsxs)("p",{children:["or ",Object(b.jsx)(l.b,{to:"/signup",children:"create an account"})]}),N?Object(b.jsx)(p.a,{variant:"danger",children:"Invalid Credentials!"}):null,Object(b.jsxs)(f.a,{onSubmit:function(e){return B.apply(this,arguments)},children:[Object(b.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(f.a.Label,{children:"Email address"}),Object(b.jsxs)(m.a,{children:[Object(b.jsx)(m.a.Prepend,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon1",children:Object(b.jsx)("i",{class:"bi bi-envelope-fill"})})}),Object(b.jsx)(f.a.Control,{type:"email",placeholder:"Enter email",value:r,onChange:function(e){return o(e.target.value)}}),Object(b.jsx)(m.a.Append,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon2",children:"@example.com"})})]}),Object(b.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(b.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(b.jsx)(f.a.Label,{children:"Password"}),Object(b.jsxs)(m.a,{className:"mb-3",children:[Object(b.jsx)(m.a.Prepend,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon1",children:Object(b.jsx)("i",{class:"bi bi-lock-fill"})})}),Object(b.jsx)(f.a.Control,{type:"password",placeholder:"Password",value:v,onChange:function(e){return w(e.target.value)}}),Object(b.jsx)(m.a.Append,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon2",children:Object(b.jsx)("i",{class:"bi bi-unlock-fill"})})})]})]}),Object(b.jsx)(g.a,{variant:"success",type:"submit",block:!0,children:"Login"})]})]})},P=(n(797),n.p+"static/media/signup.6b35fcaf.jpg");var T=function(e){var t=e.activeUser,n=e.onLogin,c=Object(a.useState)(!1),s=Object(i.a)(c,2),r=s[0],l=s[1],d=Object(a.useState)(""),u=Object(i.a)(d,2),h=u[0],O=u[1],x=Object(a.useState)(""),v=Object(i.a)(x,2),w=v[0],L=v[1],y=Object(a.useState)(""),N=Object(i.a)(y,2),S=N[0],k=N[1],T=Object(a.useState)(""),B=Object(i.a)(T,2),I=B[0],A=B[1],E=Object(a.useState)(""),G=Object(i.a)(E,2),D=G[0],H=G[1];return t?Object(b.jsx)(j.a,{to:"/dashboard"}):Object(b.jsxs)(o.a,{className:"p-signup",children:[Object(b.jsx)("img",{className:"p-home-img",src:P}),Object(b.jsxs)("div",{className:"p-form-signup",children:[Object(b.jsx)("h1",{children:"Welcome to HOA"}),Object(b.jsx)("p",{children:"Please fill the follwoing detais"}),r?Object(b.jsx)(p.a,{variant:"danger",children:"Error in Sign Up!"}):null,Object(b.jsxs)(f.a,{onSubmit:function(e){e.preventDefault();var t=new(C.a.Object.extend("BuildingId"));t.set("name",I),t.set("address",D);var a=new C.a.User;a.set("username",h),a.set("email",h),a.set("role",0),a.set("name",S),a.set("buildingId",t),a.set("password",w),a.signUp().then((function(e){var t=new U(e);n(t)})).catch((function(e){l(!0),console.error("Error while signing up user",e)}))},children:[Object(b.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(f.a.Label,{children:"Email address"}),Object(b.jsxs)(m.a,{children:[Object(b.jsx)(m.a.Prepend,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon1",children:Object(b.jsx)("i",{class:"bi bi-envelope-fill"})})}),Object(b.jsx)(f.a.Control,{type:"email",placeholder:"Enter email",value:h,onChange:function(e){return O(e.target.value)}}),Object(b.jsx)(m.a.Append,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon2",children:"@example.com"})})]}),Object(b.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(b.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(b.jsx)(f.a.Label,{children:"Password"}),Object(b.jsxs)(m.a,{className:"mb-3",children:[Object(b.jsx)(m.a.Prepend,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon1",children:Object(b.jsx)("i",{class:"bi bi-lock-fill"})})}),Object(b.jsx)(f.a.Control,{type:"password",placeholder:"Password",value:w,onChange:function(e){return L(e.target.value)}}),Object(b.jsx)(m.a.Append,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon2",children:Object(b.jsx)("i",{class:"bi bi-unlock-fill"})})})]})]}),Object(b.jsxs)(f.a.Group,{controlId:"formBasicname",children:[Object(b.jsx)(f.a.Label,{children:"Name"}),Object(b.jsxs)(m.a,{className:"mb-3",children:[Object(b.jsx)(m.a.Prepend,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon1",children:Object(b.jsx)("i",{class:"bi bi-person-fill"})})}),Object(b.jsx)(f.a.Control,{type:"text",placeholder:"Name",value:S,onChange:function(e){return k(e.target.value)}})]})]}),Object(b.jsxs)(f.a.Group,{controlId:"formBasicLname",children:[Object(b.jsx)(f.a.Label,{children:"Building Name"}),Object(b.jsxs)(m.a,{className:"mb-3",children:[Object(b.jsx)(m.a.Prepend,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon1",children:Object(b.jsx)("i",{class:"bi bi-house-fill"})})}),Object(b.jsx)(f.a.Control,{type:"text",placeholder:"Building Name",value:I,onChange:function(e){return A(e.target.value)}})]})]}),Object(b.jsxs)(f.a.Group,{controlId:"formBasicAddress",children:[Object(b.jsx)(f.a.Label,{children:"Address"}),Object(b.jsxs)(m.a,{className:"mb-3",children:[Object(b.jsx)(m.a.Prepend,{children:Object(b.jsx)(m.a.Text,{id:"basic-addon1",children:Object(b.jsx)("i",{class:"bi bi-geo-alt-fill"})})}),Object(b.jsx)(f.a.Control,{type:"text",placeholder:"Full Address",value:D,onChange:function(e){return H(e.target.value)}})]})]}),Object(b.jsx)(g.a,{variant:"success",type:"submit",block:!0,children:"Signup"})]})]})]})},B=n(814),I=n(813);var A=function(e){var t=e.activeUser,n=e.onLogout;return Object(b.jsxs)(B.a,{bg:"light",expand:"lg",children:[Object(b.jsx)(B.a.Brand,{href:"#/",children:"HOA"}),Object(b.jsx)(B.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsxs)(B.a.Collapse,{id:"basic-navbar-nav",children:[Object(b.jsx)(I.a,{className:"mr-auto",children:t?Object(b.jsx)(I.a.Link,{href:"#/dashboard",children:"Dashboard"}):null}),Object(b.jsxs)(I.a,{className:"ml-auto",children:[t?null:Object(b.jsx)(I.a.Link,{href:"#/login",children:"Login"}),t?null:Object(b.jsx)(I.a.Link,{href:"#/signup",children:"Signup"}),t?Object(b.jsx)(I.a.Link,{href:"#",onClick:function(){return n()},children:"Logout"}):null]})]})]})};n(798);function E(e){var t=e.activeUser;return t?Object(b.jsx)(o.a,{className:"p-dashboard",children:Object(b.jsxs)("h1",{children:[t.name,"'s dashboard"]})}):Object(b.jsx)(j.a,{to:"/"})}n(799);var G=function(){var e=Object(a.useState)(U.activeUser()?new U(U.activeUser()):null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(b.jsx)("div",{className:"app",children:Object(b.jsx)(l.a,{children:Object(b.jsxs)(j.d,{children:[Object(b.jsxs)(j.b,{exact:!0,path:"/",children:[Object(b.jsx)(A,{activeUser:n,onLogout:function(){return c(null)}}),Object(b.jsx)(d,{})]}),Object(b.jsx)(j.b,{exact:!0,path:"/login",children:Object(b.jsx)(k,{activeUser:n,onLogin:function(e){return c(e)}})}),Object(b.jsx)(j.b,{exact:!0,path:"/signup",children:Object(b.jsx)(T,{activeUser:n,onLogin:function(e){return c(e)}})}),Object(b.jsxs)(j.b,{exact:!0,path:"/dashboard",children:[Object(b.jsx)(A,{activeUser:n,onLogout:function(){c(null),U.logout()}}),Object(b.jsx)(E,{activeUser:n})]})]})})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,816)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};n(800),n(801);C.a.serverURL="https://parseapi.back4app.com",C.a.initialize("LOtcNuMAaCowXWDHBSkbZsVnulEmY4n19auKqY1E","UN4wJVPlWCIgO5Hpb7zcX95cUSQTN8P8xlXDmXNu"),r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root")),D()}},[[802,1,2]]]);
//# sourceMappingURL=main.e355b335.chunk.js.map